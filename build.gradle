plugins {
    id 'application'
    id 'org.openjfx.javafxplugin' version '0.0.10' // Kompatibel mit Java 8
    id 'org.springframework.boot' version '2.5.14' // Letzte Version mit Java 8-Kompatibilit채t
    id 'io.spring.dependency-management' version '1.0.15.RELEASE'
}

group = 'consorsbank'
version = '1.0.0'

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

tasks.named('bootJar') {
    archiveBaseName.set('comdirect')
    archiveVersion.set(version)

    manifest {
        attributes(
                'Main-Class': 'org.springframework.boot.loader.PropertiesLauncher'
        )
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // Spring Boot Starter (Java 8 kompatibel)
    implementation 'org.springframework.boot:spring-boot-starter'

    // F체r Annotationen (javax.annotation)
    implementation 'javax.annotation:javax.annotation-api:1.3.2'

    // Browsing & Scraping Capabilities
    implementation 'org.jsoup:jsoup:1.13.1' // Kompatibel mit Java 8
    implementation 'org.jodd:jodd-http:5.1.6' // Kompatibel mit Java 8
    // Playwright ist nicht kompatibel mit Java 8 und wurde entfernt

    // Optional: Lombok (f체r weniger Boilerplate)
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'

    // // JavaFX f체r Java 8 (Gluon OpenJFX)
    // implementation 'org.openjfx:javafx-controls:8.0.192'
    // implementation 'org.openjfx:javafx-fxml:8.0.192'
    // implementation 'org.openjfx:javafx-web:8.0.192'
    // implementation 'org.openjfx:javafx-media:8.0.192'
    // implementation 'org.openjfx:javafx-graphics:8.0.192'
}

// javafx {
//     version = "8.0.192" // JavaFX 8
//     modules = ['javafx.controls', 'javafx.fxml', 'javafx.web']
// }

application {
    mainClass = 'comdirect.Main'
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.compilerArgs += ['-parameters']
}
